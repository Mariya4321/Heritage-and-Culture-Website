{% extends 'base.html' %}

{% load static %}
{% load cart_temp %}


{% block title %}Cart{% endblock %}

{% block extra_css %}

<style>

  main#main {
    padding-top: 70px; /* Add extra space for fixed header */
    } 
    
  table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    font-family: Arial, sans-serif;
  }

  thead {
    background-color: #333333;
    color: #ffffff;
  }

  th, td {
    border: 1px solid #999999;
    padding: 8px 12px;
    text-align: left;
  }

  tbody tr:nth-child(even) {
    background-color: #f9f9f9;
  }

  tbody tr:hover {
    background-color: #eaeaea;
  }
  a.btn {
  color: white !important;
  text-decoration: none;
  border-radius: 50px !important; /* Makes the button rounded */
  padding: 8px 20px !important;   /* Adjusts padding for better shape */
  font-weight: 500;
  display: inline-block;
  transition: background-color 0.3s ease;
}

.btn-primary {
  background-color: #007bff !important;
}

.btn-warning {
  background-color: #ffc107 !important;
  color: black !important;
}

</style>
{% endblock %}

{% block content %}

<main id="main">
  <section class="inner_page">
    <table>
      <thead>
        <tr>
          <th>Image</th>
          <th>No</th>
          <th>Item Name</th>
          <th>Price</th>
          <th>Quantity</th>
          <th>Total Item Price</th>
        </tr>
      </thead>


      <tbody>
      {% for order_item in order.items.all %}
        <tr>
          <td>
             <img src="{{ order_item.product.img.url }}" alt="{{ order_item.product.name }}"
              style="width: 100px; height: 100px; object-fit: cover; border-radius: 8px;">
          </td>
          <th>{{forloop.counter}}</th>
          <td>{{order_item.product.name}}</td>
          <td>  Rs. {{order_item.product.price}}</td>
          <td style="vertical-align: middle;">
            <a href="{% url 'add_item' order_item.product.pk %}" 
              style="color: red; font-size: 24px; font-weight: bold; text-decoration: none;">
              +
            </a>
            &nbsp;
            {{ order_item.quantity }}
            &nbsp;
            <a href="{% url 'remove_item' order_item.product.pk %}" 
              style="color: red; font-size: 24px; font-weight: bold; text-decoration: none;">
              âˆ’
            </a>
          </td>

          <td>Rs. {{order_item.get_total_item_price}}</td>
        </tr>


        {% empty %}
         <tr class="row100 body">
          <td colspan="6" style="text-align: center;">
            <div style="padding: 30px 0;">
              <h1 style="font-family: fantasy; font-size: 28px; color: #333;">
                <u>Oops! Your Cart is Empty...</u>
              </h1>

                <div style="margin-top: 20px;">
                  <img src="{% static 'assets/images/gallary/g3.jpeg' %}" alt="Empty Cart"
                      style="width: 220px; height: auto; border-radius: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.2);">
                </div>

                <div style="margin-top: 20px;">
                  <a href="{% url 'ecommerce' %}" class="btn btn-primary">
                    Continue Shopping
                  </a>
                </div>
              </div>
            </td>
          </tr>

        {% endfor %}

        {% if order.get_total_price %}
        <tr class="row100 body" style="background-color:#191919;">
          <td class="cell100 column1" style="color:white;"><b>Total Order Price</b></td>
          <td class="cell100 colummn2"></td>
          <td class="cell100 colummn3"></td>
          <td class="cell100 colummn4"></td>
           <td class="cell100 colummn5"></td>
          <td class="cell100 colummn6" style="color:white;"><i class="fas fa-rupee-sign"></i> Rs. {{order.get_total_price}}</td>
        </tr>

        <tr class="row100 body">
          <td colspan="6" style="text-align: right;">
          <div class="btn-group" role="group">
            <a href="{% url 'checkout' %}" class="btn btn-warning">Checkout</a>
            <a href="{% url 'ecommerce' %}" class="btn btn-primary">Continue Shopping</a>
          </div>
          </td>
        </tr>
        {% endif %}

      </tbody>
    </table>
  </section>
</main>



{% endblock %}
